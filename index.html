<html>
	<head>
		<title>Blokus</title>
		<script src="https://ajax.googleapis.com/ajax/libs/jquery/3.1.1/jquery.min.js"></script>
		<script type='text/javascript' src="scripts/comms.js"></script>
		<script type='text/javascript' src="scripts/view.js"></script>
		<link rel="stylesheet" type="text/css" href="css/splash.css" />
		<link rel="stylesheet" type="text/css" href="css/blokus.css" />
		<script type='text/javascript'>
			$(document).ready(function(){
				$('#splash-username').keypress(function(e){
					if(e.keyCode==13) $('#login-submit').click();
				});
				$('#splash-password').keypress(function(e){
					if(e.keyCode==13) $('#login-submit').click();
				});
			});
		</script>
	</head>
	<body class="reg-background">
		<div id="title-container">
			<h1 id="page-title">
				Welcome to Blokus
			</h1>
		</div>
		<div id="splash">
			<p id="splash-text">
				This website is the data collection interface for my final year project.
				<br>
				The aim of the study is to create an AI model that can effectively play the game.
				<br>
				By starting or joining a game you are consenting to have your playing data used in the study.
				<br>
				You can withdraw at any time by not completing a game or emailing me at jmw2g12@soton.ac.uk.
				<br>
				<br>
				You can log in or register using the form below:
			</p>
			<hr>
			<br>
			<div id="splash-login">
				<div class="splash-login-elem">
					Username: <input id="splash-username" type="text" value="">
				</div>
				<div class="splash-login-elem">
					Password: <input id="splash-password" type="password" value="">
				</div>
				<div class="splash-login-elem">
					<input class="button" id="login-submit" value="Login / Create user" type="button" onclick="requestLogin($('#splash-username').val(),$('#splash-password').val())">
				</div>
			</div>
			
			
			<div id="splash-input-container" hidden>
				<div class="splash-input-column">
					<h4>New 1-Player Game</h4>
					<!--div class="splash-choice-elem" -->
					<input class="button" type="button" value="Go" onclick="start1pGame()">
				</div>
				<div class="splash-input-column" style="border-left: 1px dotted grey;border-right: 1px dotted grey;">
					<h4>New 2-Player Game</h4>
					<input class="button" name="loc_go" type="button" value="Go" onclick="start2pGame()">
				</div>
				<div class="splash-input-column">
					<h4>Join a Game</h4>
					<div id="joinable-games-list" hidden>
					</div>
					<input id="join-1p" type="text" style="margin:5px;"><input class="button" type="button" value="Go" onclick="joinGame($('#join-1p').val())">
				</div>
			</div>
		</div>
		
		<div id='blokus-game' hidden>
			<div class="game">
				<div class="piece-set" id="piece-set">
				
				</div>
				<div class="board-controls">
					<div id="board" class="board">
					
					</div>
					<div class="controls">
						<div id="piece-controls">
							<div id="top-piece-controls" class="piece-controls-row">
								<input id="rotatecw" type="button" class="button" value="Rotate &#x21bb" style="width:47%; height:47%" onclick="transformSelected('cw')" disabled />
								<input id="rotateccw" type="button" class="button" value="Rotate &#x21ba" style="width:47%; height:47%" onclick="transformSelected('ccw')" disabled />
							</div>
							<div id="bottom-piece-controls" class="piece-controls-row">
								<input id="flipver" type="button" class="button" value="Flip &#x2195" style="width:47%; height:47%" onclick="transformSelected('ver')" disabled />
								<input id="fliphor" type="button" class="button" value="Flip &#x2194" style="width:47%; height:47%" onclick="transformSelected('hor')" disabled />
							</div>
						</div>
						<div id="main-viewer">
							
						</div>
						<div id="options">
							<input type="button" class="button" value="New game" style="width:100%; height:30%" />
							<input type="button" class="button" value="Can't go" style="width:100%; height:30%" />
							<input type="button" class="button" value="Message player" style="width:100%; height:30%" />
						</div>
					</div>
				</div>
			</div>
		</div>
		
		<div id="message-view" hidden>
			<div id="message-box" style="padding:5px;">
				<b id="message-from"></b>
				<p id="message-text"></p>
			</div>
			<div id="close-message-view">
				<input type="button" value="X" onclick="$('#message-view').slideToggle()" />
			</div>
		</div>
	</body>
</html>
